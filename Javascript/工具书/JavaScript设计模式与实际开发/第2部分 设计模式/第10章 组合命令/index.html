<html>
  <body>
    <button id="button">æŒ‰æˆ‘</button>
  </body>
</html>

<script>
  var MacroCommand = function () {
    return {
      commandsList: [],
      add: function (command) {
        this.commandsList.push(command);
      },
      execute: function () {
        for (let i = 0; i < this.commandsList.length; i++) {
          const command = this.commandsList[i];
          command.execute();
        }
      }
    };
  };

  var openAcCommand = {
    execute: function () {
      console.log('æ‰“å¼€ç©ºè°ƒ');
    }
  };

  /**********å®¶é‡Œçš„ç”µè§†å’ŒéŸ³å“æ˜¯è¿æ¥åœ¨ä¸€èµ·çš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸€ä¸ªå®å‘½ä»¤æ¥ç»„åˆæ‰“å¼€ç”µè§†å’Œæ‰“å¼€éŸ³å“çš„å‘½ä»¤
   *********/

  var openTvCommand = {
    execute: function () {
      console.log('æ‰“å¼€ç”µè§†');
    }
  };

  var openSoundCommand = {
    execute: function () {
      console.log('æ‰“å¼€éŸ³å“');
    }
  };

  var macroCommand1 = MacroCommand();
  macroCommand1.add(openTvCommand);
  macroCommand1.add(openSoundCommand);

  /*********å…³é—¨ã€æ‰“å¼€ç”µè„‘å’Œæ‰“ç™»å½•QQ çš„å‘½ä»¤****************/

  var closeDoorCommand = {
    execute: function () {
      console.log('å…³é—¨');
    }
  };

  var openPcCommand = {
    execute: function () {
      console.log('å¼€ç”µè„‘');
    }
  };

  var openQQCommand = {
    execute: function () {
      console.log('ç™»å½•QQ');
    }
  };

  var macroCommand2 = MacroCommand();
  macroCommand2.add(closeDoorCommand);
  macroCommand2.add(openPcCommand);
  macroCommand2.add(openQQCommand);

  /*********ç°åœ¨æŠŠæ‰€æœ‰çš„å‘½ä»¤ç»„åˆæˆä¸€ä¸ªâ€œè¶…çº§å‘½ä»¤â€**********/

  var macroCommand = MacroCommand();
  macroCommand.add(openAcCommand);
  macroCommand.add(macroCommand1);
  macroCommand.add(macroCommand2);

  console.log('ğŸš©  -> file: index.html -> line 79 -> ', macroCommand);
  /*********æœ€åç»™é¥æ§å™¨ç»‘å®šâ€œè¶…çº§å‘½ä»¤â€**********/

  var setCommand = (function (command) {
    document.getElementById('button').onclick = function () {
      command.execute();
    };
  })(macroCommand);
</script>
