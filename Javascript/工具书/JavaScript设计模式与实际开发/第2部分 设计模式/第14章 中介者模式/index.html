<!-- <script>
  console.log('ğŸš©  -> file: index.html -> line 86 -> ', 'å¼ é›ªé¾™');

  var players = [];

  function Player(name, teamColor) {
    this.partners = []; // é˜Ÿå‹åˆ—è¡¨
    this.enemies = []; // æ•Œäººåˆ—è¡¨
    this.state = 'live'; // ç©å®¶çŠ¶æ€
    this.name = name; // è§’è‰²åå­—
    this.teamColor = teamColor; // é˜Ÿä¼é¢œè‰²
  }

  Player.prototype.win = function () {
    // ç©å®¶å›¢é˜Ÿèƒœåˆ©
    console.log('winner: ' + this.name);
  };

  Player.prototype.lose = function () {
    // ç©å®¶å›¢é˜Ÿå¤±è´¥
    console.log('loser: ' + this.name);
  };

  Player.prototype.die = function () {
    // ç©å®¶æ­»äº¡

    var all_dead = true;
    this.state = 'dead'; // è®¾ç½®ç©å®¶çŠ¶æ€ä¸ºæ­»äº¡

    for (var i = 0, partner; (partner = this.partners[i++]); ) {
      // éå†é˜Ÿå‹åˆ—è¡¨
      if (partner.state !== 'dead') {
        // å¦‚æœè¿˜æœ‰ä¸€ä¸ªé˜Ÿå‹æ²¡æœ‰æ­»äº¡ï¼Œåˆ™æ¸¸æˆè¿˜æœªå¤±è´¥
        all_dead = false;
        break;
      }
    }

    if (all_dead === true) {
      // å¦‚æœé˜Ÿå‹å…¨éƒ¨æ­»äº¡
      this.lose(); // é€šçŸ¥è‡ªå·±æ¸¸æˆå¤±è´¥
      for (var i = 0, partner; (partner = this.partners[i++]); ) {
        // é€šçŸ¥æ‰€æœ‰é˜Ÿå‹ç©å®¶æ¸¸æˆå¤±è´¥
        partner.lose();
      }
      for (var i = 0, enemy; (enemy = this.enemies[i++]); ) {
        // é€šçŸ¥æ‰€æœ‰æ•Œäººæ¸¸æˆèƒœåˆ©
        enemy.win();
      }
    }
  };

  var playerFactory = function (name, teamColor) {
    var newPlayer = new Player(name, teamColor); // åˆ›å»ºæ–°ç©å®¶

    for (var i = 0, player; (player = players[i++]); ) {
      // é€šçŸ¥æ‰€æœ‰çš„ç©å®¶ï¼Œæœ‰æ–°è§’è‰²åŠ å…¥
      if (player.teamColor === newPlayer.teamColor) {
        // å¦‚æœæ˜¯åŒä¸€é˜Ÿçš„ç©å®¶
        player.partners.push(newPlayer); // ç›¸äº’æ·»åŠ åˆ°é˜Ÿå‹åˆ—è¡¨
        newPlayer.partners.push(player);
      } else {
        player.enemies.push(newPlayer); // ç›¸äº’æ·»åŠ åˆ°æ•Œäººåˆ—è¡¨
        newPlayer.enemies.push(player);
      }
    }
    players.push(newPlayer);

    return newPlayer;
  };

  //çº¢é˜Ÿï¼š
  var player1 = playerFactory('çš®è›‹', 'red'),
    player2 = playerFactory('å°ä¹–', 'red'),
    player3 = playerFactory('å®å®', 'red'),
    player4 = playerFactory('å°å¼º', 'red');

  //è“é˜Ÿï¼š
  var player5 = playerFactory('é»‘å¦', 'blue'),
    player6 = playerFactory('è‘±å¤´', 'blue'),
    player7 = playerFactory('èƒ–å¢©', 'blue'),
    player8 = playerFactory('æµ·ç›—', 'blue');

  player1.die();
  player2.die();
  player4.die();
  player3.die();
</script> -->

<!-- <body>
  é€‰æ‹©é¢œè‰²:
  <select id="colorSelect">
    <option value="">è¯·é€‰æ‹©</option>
    <option value="red">çº¢è‰²</option>
    <option value="blue">è“è‰²</option>
  </select>

  é€‰æ‹©å†…å­˜:
  <select id="memorySelect">
    <option value="">è¯·é€‰æ‹©</option>
    <option value="32G">32G</option>
    <option value="16G">16G</option>
  </select>

  è¾“å…¥è´­ä¹°æ•°é‡: <input type="text" id="numberInput" />

  æ‚¨é€‰æ‹©äº†é¢œè‰²:
  <div id="colorInfo"></div>
  <br />
  æ‚¨é€‰æ‹©äº†å†…å­˜:
  <div id="memoryInfo"></div>
  <br />
  æ‚¨è¾“å…¥äº†æ•°é‡:
  <div id="numberInfo"></div>
  <br />
<button id="nextBtn" disabled="true">è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²å’Œè´­ä¹°æ•°é‡</button>
</body> -->

<!-- 
<script>
  var colorSelect = document.getElementById('colorSelect'),
    numberInput = document.getElementById('numberInput'),
    colorInfo = document.getElementById('colorInfo'),
    numberInfo = document.getElementById('numberInfo'),
    nextBtn = document.getElementById('nextBtn');

  var goods = {
    // æ‰‹æœºåº“å­˜
    red: 3,
    blue: 6
  };

  colorSelect.onchange = function () {
    var color = this.value, // é¢œè‰²
      number = numberInput.value, // æ•°é‡
      stock = goods[color]; // è¯¥é¢œè‰²æ‰‹æœºå¯¹åº”çš„å½“å‰åº“å­˜

    colorInfo.innerHTML = color;
    if (!color) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = 'è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²';
      return;
    }

    if (((number - 0) | 0) !== number - 0) {
      // ç”¨æˆ·è¾“å…¥çš„è´­ä¹°æ•°é‡æ˜¯å¦ä¸ºæ­£æ•´æ•°
      nextBtn.disabled = true;
      nextBtn.innerHTML = 'è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡';
      return;
    }

    if (number > stock) {
      // å½“å‰é€‰æ‹©æ•°é‡æ²¡æœ‰è¶…è¿‡åº“å­˜é‡
      nextBtn.disabled = true;
      nextBtn.innerHTML = 'åº“å­˜ä¸è¶³';
      return;
    }

    nextBtn.disabled = false;
    nextBtn.innerHTML = 'æ”¾å…¥è´­ç‰©è½¦';
  };

  numberInput.oninput = function () {
    var color = colorSelect.value, // é¢œè‰²
      number = this.value, // æ•°é‡
      stock = goods[color]; // è¯¥é¢œè‰²æ‰‹æœºå¯¹åº”çš„å½“å‰åº“å­˜

    numberInfo.innerHTML = number;

    if (!color) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = 'è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²';
      return;
    }

    if (((number - 0) | 0) !== number - 0) {
      // è¾“å…¥è´­ä¹°æ•°é‡æ˜¯å¦ä¸ºæ­£æ•´æ•°
      nextBtn.disabled = true;
      nextBtn.innerHTML = 'è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡';
      return;
    }
    if (number > stock) {
      // å½“å‰é€‰æ‹©æ•°é‡æ²¡æœ‰è¶…è¿‡åº“å­˜é‡
      nextBtn.disabled = true;
      nextBtn.innerHTML = 'åº“å­˜ä¸è¶³';
      return;
    }

    nextBtn.disabled = false;
    nextBtn.innerHTML = 'æ”¾å…¥è´­ç‰©è½¦';
  };
</script> -->
<!-- å¼•å…¥ä¸­ä»‹è€… -->

<!-- <script>
  var goods = {
    // æ‰‹æœºåº“å­˜
    'red|32G': 3, // çº¢è‰²32Gï¼Œåº“å­˜æ•°é‡ä¸º3
    'red|16G': 0,
    'blue|32G': 1,
    'blue|16G': 6
  };
  var mediator = (function () {
    var colorSelect = document.getElementById('colorSelect'),
      memorySelect = document.getElementById('memorySelect'),
      numberInput = document.getElementById('numberInput'),
      colorInfo = document.getElementById('colorInfo'),
      memoryInfo = document.getElementById('memoryInfo'),
      numberInfo = document.getElementById('numberInfo'),
      nextBtn = document.getElementById('nextBtn');

    return {
      changed: function (obj) {
        var color = colorSelect.value, // é¢œè‰²
          memory = memorySelect.value, // å†…å­˜
          number = numberInput.value, // æ•°é‡
          stock = goods[color + '|' + memory]; // é¢œè‰²å’Œå†…å­˜å¯¹åº”çš„æ‰‹æœºåº“å­˜æ•°é‡

        if (obj === colorSelect) {
          // å¦‚æœæ”¹å˜çš„æ˜¯é€‰æ‹©é¢œè‰²ä¸‹æ‹‰æ¡†
          colorInfo.innerHTML = color;
        } else if (obj === memorySelect) {
          memoryInfo.innerHTML = memory;
        } else if (obj === numberInput) {
          numberInfo.innerHTML = number;
        }

        if (!color) {
          nextBtn.disabled = true;
          nextBtn.innerHTML = 'è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²';
          return;
        }

        if (!memory) {
          nextBtn.disabled = true;
          nextBtn.innerHTML = 'è¯·é€‰æ‹©å†…å­˜å¤§å°';
          return;
        }

        if (((number - 0) | 0) !== number - 0) {
          // è¾“å…¥è´­ä¹°æ•°é‡æ˜¯å¦ä¸ºæ­£æ•´æ•°
          nextBtn.disabled = true;
          nextBtn.innerHTML = 'è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡';
          return;
        }

        if (number > stock) {
          // å½“å‰é€‰æ‹©æ•°é‡æ²¡æœ‰è¶…è¿‡åº“å­˜é‡
          nextBtn.disabled = true;
          nextBtn.innerHTML = 'åº“å­˜ä¸è¶³';
          return;
        }

        nextBtn.disabled = false;
        nextBtn.innerHTML = 'æ”¾å…¥è´­ç‰©è½¦';
      }
    };
  })();

  // äº‹ä»¶å‡½æ•°ï¼š
  colorSelect.onchange = function () {
    mediator.changed(this);
  };
  memorySelect.onchange = function () {
    mediator.changed(this);
  };
  numberInput.oninput = function () {
    mediator.changed(this);
  };
</script> -->

<!-- <script>
  function Player(name, teamColor) {
    this.name = name; // è§’è‰²åå­—
    this.teamColor = teamColor; // é˜Ÿä¼é¢œè‰²
    this.state = 'alive'; // ç©å®¶ç”Ÿå­˜çŠ¶æ€
  }

  Player.prototype.win = function () {
    console.log(this.name + ' won ');
  };

  Player.prototype.lose = function () {
    console.log(this.name + ' lost');
  };

  /*******************ç©å®¶æ­»äº¡*****************/

  Player.prototype.die = function () {
    this.state = 'dead';
    playerDirector.reciveMessage('playerDead', this); // ç»™ä¸­ä»‹è€…å‘é€æ¶ˆæ¯ï¼Œç©å®¶æ­»äº¡
  };

  /*******************ç§»é™¤ç©å®¶*****************/

  Player.prototype.remove = function () {
    playerDirector.reciveMessage('removePlayer', this); // ç»™ä¸­ä»‹è€…å‘é€æ¶ˆæ¯ï¼Œç§»é™¤ä¸€ä¸ªç©å®¶
  };

  /*******************ç©å®¶æ¢é˜Ÿ*****************/

  Player.prototype.changeTeam = function (color) {
    playerDirector.reciveMessage('changeTeam', this, color); // ç»™ä¸­ä»‹è€…å‘é€æ¶ˆæ¯ï¼Œç©å®¶æ¢é˜Ÿ
  };

  var playerFactory = function (name, teamColor) {
    var newPlayer = new Player(name, teamColor); // åˆ›é€ ä¸€ä¸ªæ–°çš„ç©å®¶å¯¹è±¡
    playerDirector.reciveMessage('addPlayer', newPlayer); // ç»™ä¸­ä»‹è€…å‘é€æ¶ˆæ¯ï¼Œæ–°å¢ç©å®¶

    return newPlayer;
  };

  var playerDirector = (function () {
    var players = {}, // ä¿å­˜æ‰€æœ‰ç©å®¶
      operations = {}; // ä¸­ä»‹è€…å¯ä»¥æ‰§è¡Œçš„æ“ä½œ

    /****************æ–°å¢ä¸€ä¸ªç©å®¶***************************/
    operations.addPlayer = function (player) {
      var teamColor = player.teamColor; // ç©å®¶çš„é˜Ÿä¼é¢œè‰²
      players[teamColor] = players[teamColor] || []; // å¦‚æœè¯¥é¢œè‰²çš„ç©å®¶è¿˜æ²¡æœ‰æˆç«‹é˜Ÿä¼ï¼Œåˆ™æ–°æˆç«‹ä¸€ä¸ªé˜Ÿä¼;
      players[teamColor].push(player); // æ·»åŠ ç©å®¶è¿›é˜Ÿä¼
    };

    /****************ç§»é™¤ä¸€ä¸ªç©å®¶***************************/
    operations.removePlayer = function (player) {
      var teamColor = player.teamColor, // ç©å®¶çš„é˜Ÿä¼é¢œè‰²
        teamPlayers = players[teamColor] || []; // è¯¥é˜Ÿä¼æ‰€æœ‰æˆå‘˜
      for (var i = teamPlayers.length - 1; i >= 0; i--) {
        // éå†åˆ é™¤
        if (teamPlayers[i] === player) {
          teamPlayers.splice(i, 1);
        }
      }
    };

    /****************ç©å®¶æ¢é˜Ÿ***************************/
    operations.changeTeam = function (player, newTeamColor) {
      // ç©å®¶æ¢é˜Ÿ
      operations.removePlayer(player); // ä»åŸé˜Ÿä¼ä¸­åˆ é™¤
      player.teamColor = newTeamColor; // æ”¹å˜é˜Ÿä¼é¢œè‰²
      operations.addPlayer(player); // å¢åŠ åˆ°æ–°é˜Ÿä¼ä¸­
    };

    operations.playerDead = function (player) {
      // ç©å®¶æ­»äº¡
      var teamColor = player.teamColor,
        teamPlayers = players[teamColor]; // ç©å®¶æ‰€åœ¨é˜Ÿä¼

      var all_dead = true;

      for (var i = 0, player; (player = teamPlayers[i++]); ) {
        if (player.state !== 'dead') {
          all_dead = false;
          break;
        }
      }

      if (all_dead === true) {
        // å…¨éƒ¨æ­»äº¡

        for (var i = 0, player; (player = teamPlayers[i++]); ) {
          player.lose(); // æœ¬é˜Ÿæ‰€æœ‰ç©å®¶lose
        }

        for (var color in players) {
          if (color !== teamColor) {
            var teamPlayers = players[color]; // å…¶ä»–é˜Ÿä¼çš„ç©å®¶
            for (var i = 0, player; (player = teamPlayers[i++]); ) {
              player.win(); // å…¶ä»–é˜Ÿä¼æ‰€æœ‰ç©å®¶win
            }
          }
        }
      }
    };

    var reciveMessage = function () {
      var message = Array.prototype.shift.call(arguments); // arguments çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ¶ˆæ¯åç§°
      operations[message].apply(this, arguments);
    };

    return {
      reciveMessage: reciveMessage
    };
  })();

  // çº¢é˜Ÿï¼š
  var player1 = playerFactory('çš®è›‹', 'red'),
    player2 = playerFactory('å°ä¹–', 'red'),
    player3 = playerFactory('å®å®', 'red'),
    player4 = playerFactory('å°å¼º', 'red');

  // è“é˜Ÿï¼š
  var player5 = playerFactory('é»‘å¦', 'blue'),
    player6 = playerFactory('è‘±å¤´', 'blue'),
    player7 = playerFactory('èƒ–å¢©', 'blue'),
    player8 = playerFactory('æµ·ç›—', 'blue');
</script> -->


<!-- 
<body>
  é€‰æ‹©é¢œè‰²:
  <select id="colorSelect">
    <option value="">è¯·é€‰æ‹©</option>
    <option value="red">çº¢è‰²</option>
    <option value="blue">è“è‰²</option>
  </select>

  è¾“å…¥è´­ä¹°æ•°é‡: <input type="text" id="numberInput" />

  æ‚¨é€‰æ‹©äº†é¢œè‰²:
  <div id="colorInfo"></div>
  <br />
  æ‚¨è¾“å…¥äº†æ•°é‡:
  <div id="numberInfo"></div>
  <br />
  <button id="nextBtn" disabled="true">è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²å’Œè´­ä¹°æ•°é‡</button>

  <script>
    var colorSelect = document.getElementById('colorSelect'),
      numberInput = document.getElementById('numberInput'),
      colorInfo = document.getElementById('colorInfo'),
      numberInfo = document.getElementById('numberInfo'),
      nextBtn = document.getElementById('nextBtn');

    var goods = {
      // æ‰‹æœºåº“å­˜
      red: 3,
      blue: 6
    };

    colorSelect.onchange = function () {
      var color = this.value, // é¢œè‰²
        number = numberInput.value, // æ•°é‡
        stock = goods[color]; // è¯¥é¢œè‰²æ‰‹æœºå¯¹åº”çš„å½“å‰åº“å­˜

      colorInfo.innerHTML = color;
      if (!color) {
        nextBtn.disabled = true;
        nextBtn.innerHTML = 'è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²';
        return;
      }

      if (((number - 0) | 0) !== number - 0) {
        // ç”¨æˆ·è¾“å…¥çš„è´­ä¹°æ•°é‡æ˜¯å¦ä¸ºæ­£æ•´æ•°
        nextBtn.disabled = true;
        nextBtn.innerHTML = 'è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡';
        return;
      }

      if (number > stock) {
        // å½“å‰é€‰æ‹©æ•°é‡æ²¡æœ‰è¶…è¿‡åº“å­˜é‡
        nextBtn.disabled = true;
        nextBtn.innerHTML = 'åº“å­˜ä¸è¶³';
        return;
      }

      nextBtn.disabled = false;
      nextBtn.innerHTML = 'æ”¾å…¥è´­ç‰©è½¦';
    };

    numberInput.oninput = function () {
      var color = colorSelect.value, // é¢œè‰²
        number = this.value, // æ•°é‡
        stock = goods[color]; // è¯¥é¢œè‰²æ‰‹æœºå¯¹åº”çš„å½“å‰åº“å­˜

      numberInfo.innerHTML = number;

      if (!color) {
        nextBtn.disabled = true;
        nextBtn.innerHTML = 'è¯·é€‰æ‹©æ‰‹æœºé¢œè‰²';
        return;
      }

      if (((number - 0) | 0) !== number - 0) {
        // è¾“å…¥è´­ä¹°æ•°é‡æ˜¯å¦ä¸ºæ­£æ•´æ•°
        nextBtn.disabled = true;
        nextBtn.innerHTML = 'è¯·è¾“å…¥æ­£ç¡®çš„è´­ä¹°æ•°é‡';
        return;
      }
      if (number > stock) {
        // å½“å‰é€‰æ‹©æ•°é‡æ²¡æœ‰è¶…è¿‡åº“å­˜é‡
        nextBtn.disabled = true;
        nextBtn.innerHTML = 'åº“å­˜ä¸è¶³';
        return;
      }

      nextBtn.disabled = false;
      nextBtn.innerHTML = 'æ”¾å…¥è´­ç‰©è½¦';
    };
  </script>
</body> -->