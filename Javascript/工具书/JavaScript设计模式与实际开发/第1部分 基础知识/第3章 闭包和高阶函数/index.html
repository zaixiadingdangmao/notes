<!-- <script>
  var mult = (function () {
    var cache = {};
    var calculate = function () {
      // å°é—­ calculate å‡½æ•°
      var a = 1;
      for (var i = 0, l = arguments.length; i < l; i++) {
        a = a * arguments[i];
      }
      return a;
    };

    return function () {
      var args = Array.prototype.join.call(arguments, ',');
      if (args in cache) {
        return cache[args];
      }
      return (cache[args] = calculate.apply(null, arguments));
    };
  })();
</script> -->

<!-- åˆ†å‰²çº¿ -->

<!-- <img id="imgDOM" width="300" height="300">
<script>
  var report = function (src) {
    var img = new Image();
    img.src = src;
  };

  report('https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2021%2F0919%2F2bb40aecj00qzo05j000dd200jg00etg00jg00et.jpg&thumbnail=650x2147483647&quality=80&type=jpg');
</script> -->

<!-- åˆ†å‰²çº¿ -->

<!-- <html>
  <body>
    <button id="execute">ç‚¹å‡»æˆ‘æ‰§è¡Œå‘½ä»¤</button>
    <button id="undo">ç‚¹å‡»æˆ‘æ‰§è¡Œå‘½ä»¤</button>
    <script>
      var Tv = {
        open: function () {
          console.log('æ‰“å¼€ç”µè§†æœº');
        },
        close: function () {
          console.log('å…³ä¸Šç”µè§†æœº');
        }
      };

      var createCommand = function (receiver) {
        var execute = function () {
          return receiver.open(); // æ‰§è¡Œå‘½ä»¤ï¼Œæ‰“å¼€ç”µè§†æœº
        };

        var undo = function () {
          return receiver.close(); // æ‰§è¡Œå‘½ä»¤ï¼Œå…³é—­ç”µè§†æœº
        };
        
        return {
          execute: execute,
          undo: undo
        };
      };

      var setCommand = function (command) {
        document.getElementById('execute').onclick = function () {
          command.execute(); // è¾“å‡ºï¼šæ‰“å¼€ç”µè§†æœº
        };
        document.getElementById('undo').onclick = function () {
          command.undo(); // è¾“å‡ºï¼šå…³é—­ç”µè§†æœº
        };
      };

      setCommand(createCommand(Tv));
    </script>
  </body>
</html> -->

<!-- åˆ†å‰²çº¿ -->
<!-- <script>
  Function.prototype.before = function (beforefn) {
    var __self = this; // ä¿å­˜åŸå‡½æ•°çš„å¼•ç”¨
    return function () {
      // è¿”å›åŒ…å«äº†åŸå‡½æ•°å’Œæ–°å‡½æ•°çš„"ä»£ç†"å‡½æ•°
      beforefn.apply(this, arguments); // æ‰§è¡Œæ–°å‡½æ•°ï¼Œä¿®æ­£ this
      return __self.apply(this, arguments); // æ‰§è¡ŒåŸå‡½æ•°
    };
  };
  Function.prototype.after = function (afterfn) {
    var __self = this;
    return function () {
      var ret = __self.apply(this, arguments);
      afterfn.apply(this, arguments);
      return ret;
    };
  };
  var func = function () {
    console.log(2);
  };

  func = func
    .before(function () {
      console.log(1);
    })
    .after(function () {
      console.log(3);
    });

  func();
</script> -->

<!-- åˆ†å‰²çº¿ -->

<!-- <script>
  var currying = function (fn) {
    var args = [];
    return function () {
      if (arguments.length === 0) {
        return fn.apply(this, args);
      } else {
        [].push.apply(args, arguments);
        return arguments.callee;
      }
    };
  };

  var cost = (function () {
    var money = 0;
    return function () {
      for (var i = 0, l = arguments.length; i < l; i++) {
        money += arguments[i];
      }
      return money;
    };
  })();

  var cost = currying(cost); // è½¬åŒ–æˆ currying å‡½æ•°
  cost(100); // æœªçœŸæ­£æ±‚å€¼
  cost(200); // æœªçœŸæ­£æ±‚å€¼
  cost(300); // æœªçœŸæ­£æ±‚å€¼
  cost(400); // æœªçœŸæ­£æ±‚å€¼
  cost(500); // æœªçœŸæ­£æ±‚å€¼
  cost(600); // æœªçœŸæ­£æ±‚å€¼
  cost(800); // æœªçœŸæ­£æ±‚å€¼

  cost(); // æ±‚å€¼

console.log('ğŸš©  -> file: index.html -> line 148 -> ', cost());
</script> -->

<!-- åˆ†å‰²çº¿ -->

<!-- <script>
  Function.prototype.uncurrying = function () {
    var self = this;
    return function () {
      var obj = Array.prototype.shift.call(arguments);
      return self.apply(obj, arguments);
    };
  };

  for (var i = 0, fn, ary = ['push', 'shift', 'forEach']; (fn = ary[i++]); ) {
    Array[fn] = Array.prototype[fn].uncurrying();
  }

  var obj = {
    length: 3,
    0: 1,
    1: 2,
    2: 3
  };

  Array.push(obj, 4); // å‘å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ 
  console.log(obj.length); // è¾“å‡ºï¼š4

  var first = Array.shift(obj); // æˆªå–ç¬¬ä¸€ä¸ªå…ƒç´ 
  console.log(first); // è¾“å‡ºï¼š1
  console.log(obj); // è¾“å‡ºï¼š{0: 2, 1: 3, 2: 4, length: 3}
  Array.forEach(obj, function (i, n) {
    console.log(n); // åˆ†åˆ«è¾“å‡ºï¼š0, 1, 2
  });
</script> -->

<!-- åˆ†å‰²çº¿ -->

<!-- <button id="execute">ç‚¹å‡»æˆ‘æ‰§è¡Œå‘½ä»¤</button>

<script>
  var throttle = function (fn, interval) {
    var __self = fn, // ä¿å­˜éœ€è¦è¢«å»¶è¿Ÿæ‰§è¡Œçš„å‡½æ•°å¼•ç”¨
      timer, // å®šæ—¶å™¨
      firstTime = true; // æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨
    return function () {
      var args = arguments,
        __me = this;
      if (firstTime) {
        // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œä¸éœ€å»¶è¿Ÿæ‰§è¡Œ
        __self.apply(__me, args);
        return (firstTime = false);
      }
      if (timer) {
        // å¦‚æœå®šæ—¶å™¨è¿˜åœ¨ï¼Œè¯´æ˜å‰ä¸€æ¬¡å»¶è¿Ÿæ‰§è¡Œè¿˜æ²¡æœ‰å®Œæˆ
        return false;
      }
      timer = setTimeout(function () {
        // å»¶è¿Ÿä¸€æ®µæ—¶é—´æ‰§è¡Œ
        clearTimeout(timer);
        timer = null;
        __self.apply(__me, args);
      }, interval || 500);
    };
  };

  // window.onresize = throttle(function () {
  //   console.log(1);
  // }, 500);

  const fn = throttle(() => {
    console.log(1);
  }, 500);

  document.querySelector('#execute').addEventListener('click', fn);
</script> -->

<!-- åˆ†å‰²çº¿ -->
<!-- <body></body>

<script>
  var timeChunk = function (ary, fn, count) {
    var obj, t;
    var len = ary.length;
    var start = function () {
      for (var i = 0; i < Math.min(count || 1, ary.length); i++) {
        var obj = ary.shift();
        fn(obj);
      }
    };
    return function () {
      t = setInterval(function () {
        if (ary.length === 0) {
          // å¦‚æœå…¨éƒ¨èŠ‚ç‚¹éƒ½å·²ç»è¢«åˆ›å»ºå¥½
          return clearInterval(t);
        }
        start();
      }, 200); // åˆ†æ‰¹æ‰§è¡Œçš„æ—¶é—´é—´éš”ï¼Œä¹Ÿå¯ä»¥ç”¨å‚æ•°çš„å½¢å¼ä¼ å…¥
    };
  };

  var ary = [];
  for (var i = 1; i <= 100000; i++) {
    ary.push(i); // å‡è®¾ ary è£…è½½äº† 1000 ä¸ªå¥½å‹çš„æ•°æ®
  }

  var renderFriendList = timeChunk(
    ary,
    function (n) {
      var div = document.createElement('div');
      div.innerHTML = n;
      document.body.appendChild(div);
    },
    10000
  );
  renderFriendList();
</script> -->

<!-- æƒ°æ€§åŠ è½½å‡½æ•° -->
<html>
  <body>
    <div id="div1">ç‚¹æˆ‘ç»‘å®šäº‹ä»¶</div>
    <script>
      var addEvent = function (elem, type, handler) {
        if (window.addEventListener) {
          addEvent = function (elem, type, handler) {
            elem.addEventListener(type, handler, false);
          };
        } else if (window.attachEvent) {
          addEvent = function (elem, type, handler) {
            elem.attachEvent('on' + type, handler);
          };
        }
        addEvent(elem, type, handler);
      };

      var div = document.getElementById('div1');

      addEvent(div, 'click', function () {
        alert(1);
      });
      
      addEvent(div, 'click', function () {
        alert(2);
      });
    </script>
  </body>
</html>
